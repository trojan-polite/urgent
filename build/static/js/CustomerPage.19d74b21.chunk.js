(this["webpackJsonpantd-demo"]=this["webpackJsonpantd-demo"]||[]).push([[4],{220:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return w}));var a=n(86),r=n(0),c=n(5),o="OPEN_MODAL",i="CLOSE_MODAL",s="OPEN_PANEL",u="CLOSE_PANEL",l="COLLAPSE_PANEL",p="OPEN_BOX",d="CLOSE_BOX",j="COLLAPSE_BOX",b="OPEN_READ_BOX",f="CLOSE_READ_BOX",O="COLLAPSE_READ_BOX",h={isModalOpen:!1,isPanelCollapsed:!1,isBoxCollapsed:!1,isReadBoxOpen:!0};function x(e,t){switch(t.type){case o:return Object(c.a)(Object(c.a)({},e),{},{isModalOpen:!0});case i:return Object(c.a)(Object(c.a)({},e),{},{isModalOpen:!1});case s:return Object(c.a)(Object(c.a)({},e),{},{isPanelCollapsed:!1});case u:return Object(c.a)(Object(c.a)({},e),{},{isPanelCollapsed:!0});case l:return Object(c.a)(Object(c.a)({},e),{},{isPanelCollapsed:!e.isPanelCollapsed});case p:return Object(c.a)(Object(c.a)({},e),{},{isBoxCollapsed:!0});case d:return Object(c.a)(Object(c.a)({},e),{},{isBoxCollapsed:!1});case j:return Object(c.a)(Object(c.a)({},e),{},{isBoxCollapsed:!e.isBoxCollapsed});case b:return Object(c.a)(Object(c.a)({},e),{},{isReadBoxOpen:!0});case f:return Object(c.a)(Object(c.a)({},e),{},{isReadBoxOpen:!1});case O:return Object(c.a)(Object(c.a)({},e),{},{isReadBoxOpen:!e.isReadBoxOpen});default:throw new Error("Unhandled action type: ".concat(t.type))}}var y=function(e){return{modal:{open:function(){e({type:o})},close:function(){e({type:i})}},panel:{open:function(){e({type:s})},close:function(){e({type:u})},collapse:function(){e({type:l})}},collapsedBox:{open:function(){e({type:p})},close:function(){e({type:d})},collapse:function(){e({type:j})}},readBox:{open:function(){e({type:b}),console.log("readBox open")},close:function(){e({type:f}),console.log("readBox close")},collapse:function(){e({type:O})}}}},m=function(e){return{isModalOpen:function(){return e.isModalOpen},isPanelOpen:function(){return e.isPanelOpen},isBoxOpen:function(){return e.isBoxOpen}}},v=n(6),g=Object(r.createContext)();function C(e){var t=e.children,n=Object(r.useReducer)(x,h),c=Object(a.a)(n,2),o=c[0],i=c[1],s=Object(r.useMemo)((function(){return[o,i]}),[o]);return Object(v.jsx)(g.Provider,{value:s,children:t})}function w(){var e=Object(r.useContext)(g);if(void 0===e)throw new Error("useCrudContext must be used within a CrudContextProvider");var t=Object(a.a)(e,2),n=t[0],c=t[1];return{state:n,crudContextAction:y(c),crudContextSelector:m(n)}}},222:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return x}));var a=n(86),r=n(0),c=n(18),o=n(5),i="OPEN_MODAL",s="CLOSE_MODAL",u="OPEN_PANEL",l="CLOSE_PANEL",p={create:{isOpen:!1},update:{isOpen:!1},read:{isOpen:!1},deleteModal:{isOpen:!1},listDataTable:{isOpen:!0}};function d(e,t){var n=t.keyState,a=void 0===n?null:n;switch(t.type){case i:return Object(o.a)(Object(o.a)({},e),{},{deleteModal:{isOpen:!0}});case s:return Object(o.a)(Object(o.a)({},e),{},{deleteModal:{isOpen:!1}});case u:return Object(o.a)(Object(o.a)({},p),{},Object(c.a)({listDataTable:{isOpen:!1}},a,{isOpen:!0}));case l:return Object(o.a)({},p);default:throw new Error("Unhandled action type: ".concat(t.type))}}var j=function(e){return{modal:{open:function(){e({type:i})},close:function(){e({type:s})}},readPanel:{open:function(){e({type:u,keyState:"read"})},close:function(){e({type:l})}},updatePanel:{open:function(){e({type:u,keyState:"update"})},close:function(){e({type:l})}},createPanel:{open:function(){e({type:u,keyState:"create"})},close:function(){e({type:l})}}}},b=function(e){return{isModalOpen:function(){return e.isModalOpen},isPanelOpen:function(){return e.isPanelOpen},isBoxOpen:function(){return e.isBoxOpen}}},f=n(6),O=Object(r.createContext)();function h(e){var t=e.children,n=Object(r.useReducer)(d,p),c=Object(a.a)(n,2),o=c[0],i=c[1],s=Object(r.useMemo)((function(){return[o,i]}),[o]);return Object(f.jsx)(O.Provider,{value:s,children:t})}function x(){var e=Object(r.useContext)(O);if(void 0===e)throw new Error("useErpContext must be used within a ErpContextProvider");var t=Object(a.a)(e,2),n=t[0],c=t[1];return{state:n,erpContextAction:j(c),erpContextSelector:b(n)}}},228:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n(107),r=n.n(a),c=n(117),o=n(5),i=n(18),s=n(124),u=n.n(s),l=n(76),p=n(62),d=n(125),j=n(126),b=Object(i.a)({},l.a,p.c.get()),f=u.a.create({baseURL:l.b,timeout:3e4,headers:Object(o.a)({},b)}),O={create:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.defaults.headers=Object(o.a)({},b),console.log("jsonData",n),e.prev=2,e.next=5,f.post(t+"/create",n);case 5:return a=e.sent,e.abrupt("return",Object(j.a)(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),read:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.defaults.headers=Object(o.a)({},b),e.prev=1,e.next=4,f.get(t+"/read/"+n);case 4:return a=e.sent,e.abrupt("return",Object(j.a)(a));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(d.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),update:function(){var e=Object(c.a)(r.a.mark((function e(t,n,a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.defaults.headers=Object(o.a)({},b),e.prev=1,e.next=4,f.patch(t+"/update/"+n,a);case 4:return c=e.sent,e.abrupt("return",Object(j.a)(c));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",Object(d.a)(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),delete:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},f.defaults.headers=Object(o.a)({},b),e.prev=2,e.next=5,f.delete(t+"/delete/"+n);case 5:return a=e.sent,e.abrupt("return",Object(j.a)(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),filter:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,i,s,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},f.defaults.headers=Object(o.a)({},b),e.prev=2,a=n.filter?"filter="+n.filter:"",c=n.equal?"&equal="+n.equal:"",i="?".concat(a).concat(c),e.next=8,f.get(t+"/filter"+i);case 8:return s=e.sent,e.abrupt("return",Object(j.a)(s));case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),search:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,o,s,u,b=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.length>2&&void 0!==b[2]?b[2]:{},f.defaults.headers=Object(i.a)({},l.a,p.c.get()),e.prev=2,c="",a!=={}&&(o=a.fields?"fields="+a.fields:"",s=a.question?"&q="+a.question:"",c="?".concat(o).concat(s)),e.next=7,f.get(t+"/search"+c,{cancelToken:n.token});case 7:return u=e.sent,e.abrupt("return",Object(j.a)(u));case 11:return e.prev=11,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}(),list:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,o,s,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},f.defaults.headers=Object(i.a)({},l.a,p.c.get()),console.log(p.c.get()),e.prev=3,a="",n!=={}&&(c=n.page?"page="+n.page:"",o=n.items?"&items="+n.items:"",a="?".concat(c).concat(o)),e.next=8,f.get(t+"/list"+a);case 8:return s=e.sent,e.abrupt("return",Object(j.a)(s));case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",Object(d.a)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.length>2&&void 0!==c[2]?c[2]:{},f.defaults.headers=Object(o.a)({},b),e.prev=2,e.next=5,f.post(t,n);case 5:return a=e.sent,e.abrupt("return",Object(j.a)(a));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}(),get:function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.length>1&&void 0!==a[1]?a[1]:{},f.defaults.headers=Object(o.a)({},b),e.prev=2,e.next=5,f.get(t);case 5:return n=e.sent,e.abrupt("return",Object(j.a)(n));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",Object(d.a)(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),source:function(){var e=u.a.CancelToken.source();return e}}},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(5),r=n(107),c=n.n(r),o=n(117),i=n(51),s=n(228),u={resetState:function(){return function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i.g});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},resetAction:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.f,keyState:e,payload:null});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},currentItem:function(e){return function(){var t=Object(o.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.b,payload:Object(a.a)({},e)});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},currentAction:function(e,t){return function(){var n=Object(o.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:i.a,keyState:e,payload:Object(a.a)({},t)});case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},list:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var n=Object(o.a)(c.a.mark((function n(a){var r,o;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:i.d,keyState:"list",payload:null}),n.next=3,s.a.list(e,{page:t});case 3:!0===(r=n.sent).success?(o={items:r.result,pagination:{current:parseInt(r.pagination.page,10),pageSize:10,total:parseInt(r.pagination.count,10)}},a({type:i.e,keyState:"list",payload:o})):a({type:i.c,keyState:"list",payload:null});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},create:function(e,t){return function(){var n=Object(o.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:i.d,keyState:"create",payload:null}),console.log("jsonData action redux",t),n.next=4,s.a.create(e,t);case 4:!0===(r=n.sent).success?(a({type:i.e,keyState:"create",payload:r.result}),a({type:i.b,payload:r.result})):a({type:i.c,keyState:"create",payload:null});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},read:function(e,t){return function(){var n=Object(o.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:i.d,keyState:"read",payload:null}),n.next=3,s.a.read(e,t);case 3:!0===(r=n.sent).success?(a({type:i.b,payload:r.result}),a({type:i.e,keyState:"read",payload:r.result})):a({type:i.c,keyState:"read",payload:null});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},update:function(e,t,n){return function(){var a=Object(o.a)(c.a.mark((function a(r){var o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:i.d,keyState:"update",payload:null}),a.next=3,s.a.update(e,t,n);case 3:!0===(o=a.sent).success?(r({type:i.e,keyState:"update",payload:o.result}),r({type:i.b,payload:o.result})):r({type:i.c,keyState:"update",payload:null});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},delete:function(e,t){return function(){var n=Object(o.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:i.d,keyState:"delete",payload:null}),n.next=3,s.a.delete(e,t);case 3:!0===(r=n.sent).success?a({type:i.e,keyState:"delete",payload:r.result}):a({type:i.c,keyState:"delete",payload:null});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},search:function(e,t,n){return function(){var a=Object(o.a)(c.a.mark((function a(r){var o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:i.d,keyState:"search",payload:null}),t.cancel(),t=s.a.source(),a.next=5,s.a.search(e,t,n);case 5:!0===(o=a.sent).success?r({type:i.e,keyState:"search",payload:o.result}):r({type:i.c,keyState:"search",payload:null});case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}}},231:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return p}));var a=n(259),r=function(e){return e.crud},c=Object(a.a)([r],(function(e){return e.current})),o=Object(a.a)([r],(function(e){return e.list})),i=function(e){return Object(a.a)(o,(function(t){return t.result.items.find((function(t){return t._id===e}))}))},s=Object(a.a)([r],(function(e){return e.create})),u=Object(a.a)([r],(function(e){return e.update})),l=(Object(a.a)([r],(function(e){return e.read})),Object(a.a)([r],(function(e){return e.delete}))),p=Object(a.a)([r],(function(e){return e.search}))},232:function(e,t,n){"use strict";function a(){var e=String.fromCharCode(Math.floor(25*Math.random()+65));do{var t=Math.floor(25*Math.random()+65);e+=String.fromCharCode(t),e+=Math.floor(99*Math.random())}while(e.length<8);return e}n.d(t,"a",(function(){return a}))},234:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var a=n(107),r=n.n(a),c=n(117),o=n(57),i=n(62),s=n(77),u=n(87),l=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:o.b,payload:{loading:!0}}),t.next=3,i.a(e);case 3:!0===(a=t.sent).success?(c={current:a.result.user,loading:!1,isLoggedIn:!0},s.a.set("auth",c),n({type:o.c,payload:a.result.user}),u.a.push("/")):n({type:o.a,payload:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.b(),t({type:o.d}),u.a.push("/login");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},241:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(0);var a=n(202),r=n(80),c=n(6);function o(e){var t=e.isLoading,n=e.children,o=Object(c.jsx)(r.a,{style:{fontSize:24},spin:!0});return Object(c.jsx)(a.a,{indicator:o,spinning:t,children:n})}},242:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(424);function a(e,t,n){return void 0===n&&(n="|"),t.split(n).map((function(t){return function(e,t){return t.split(".").reduce((function(e,t){return void 0===e||null===e?e:e[t]}),e)}(e,t)})).join(" ")}Object.byString=function(e,t){for(var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),a=0,r=n.length;a<r;++a){var c=n[a];if(null===e)return;if(!(c in e))return;e=e[c]}return e}},253:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return N})),n.d(t,"b",(function(){return A}));var a=n(0),r=n(220),c=n(6);var o=function(e){var t=e.children;return Object(c.jsx)(r.a,{children:t})},i=n(116),s=n(204),u=n(201),l=n(438),p=n(536),d=n(211),j=n(234),b=s.a.Header;function f(){var e=Object(i.b)(),t=Object(c.jsxs)(u.a,{children:[Object(c.jsx)(u.a.Item,{onClick:function(){return e(Object(j.b)())},children:"logout"}),Object(c.jsx)(u.a.Item,{children:Object(c.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.taobao.com/",children:"2nd menu item"})}),Object(c.jsx)(u.a.Item,{children:Object(c.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.tmall.com/",children:"3rd menu item"})})]});return Object(c.jsx)(b,{className:"site-layout-background",style:{padding:0,background:"none"},children:Object(c.jsx)(l.a,{overlay:t,placement:"bottomRight",arrow:!0,children:Object(c.jsx)(p.a,{icon:Object(c.jsx)(d.a,{})})})})}var O=n(86),h=n(566),x=n(545),y=n(546),m=function(e){var t=e.onChange,n=e.title;return Object(c.jsx)("div",{className:"collapseBoxHeader",onClick:t,children:n})},v=function(e){var t=e.isOpen,n=e.children,a=t?{display:"block",opacity:1}:{display:"none",opacity:0};return Object(c.jsx)("div",{className:"TopCollapseBox",children:Object(c.jsx)("div",{style:a,children:Object(c.jsx)(x.a,{children:Object(c.jsxs)(y.a,{span:24,children:[" ",n]})})})})},g=function(e){var t=e.isOpen,n=e.children,a=t?{display:"none",opacity:0}:{display:"block",opacity:1};return Object(c.jsx)("div",{className:"BottomCollapseBox",children:Object(c.jsx)("div",{style:a,children:Object(c.jsx)(x.a,{children:Object(c.jsxs)(y.a,{span:24,children:[" ",n]})})})})};function C(e){var t=e.topContent,n=e.bottomContent,a=e.buttonTitle,r=e.isCollapsed,o=e.onCollapse,i=r?"collapsed":"",s=e.isPanelCollapsed?"-400px":"0px";return Object(c.jsxs)("div",{className:"panelBox",style:{width:"400px",marginLeft:s},children:[Object(c.jsx)(v,{isOpen:r,children:t}),Object(c.jsxs)("div",{className:"collapseBox "+i,children:[Object(c.jsx)(m,{title:a,onChange:o}),Object(c.jsx)("div",{className:"whiteBg"}),Object(c.jsx)(g,{isOpen:r,children:n})]})]})}var w=s.a.Sider;function k(e){e.config;var t=e.topContent,n=e.bottomContent,o=e.fixHeaderPanel,i=Object(r.b)(),s=i.state,u=i.crudContextAction,l=s.isPanelCollapsed,p=s.isBoxCollapsed,d=u.panel,j=u.collapsedBox,b=Object(a.useState)("0px"),f=Object(O.a)(b,2),x=f[0],y=f[1],m=Object(a.useState)("1"),v=Object(O.a)(m,2),g=v[0],k=v[1];Object(a.useEffect)((function(){l?(y("-400px"),k(0)):(y("0px"),k(1)),setTimeout((function(){y("0px"),k(1)}),300)}),[l]);return Object(c.jsxs)(w,{trigger:Object(c.jsx)(h.a,{className:"trigger"}),width:400,collapsible:!0,collapsed:l,collapsedWidth:"0px",onCollapse:function(){d.collapse()},zeroWidthTriggerStyle:{right:"-50px",top:"15px"},style:{background:"#FFF",left:x,opacity:g},children:[o,Object(c.jsx)(C,{buttonTitle:"Add new Customer",isPanelCollapsed:l,isCollapsed:p,onCollapse:function(){j.collapse()},topContent:t,bottomContent:n})]})}var S=s.a.Content;function E(e){var t=e.children,n=e.config,a=e.sidePanelTopContent,r=e.sidePanelBottomContent,i=e.fixHeaderPanel;return Object(c.jsx)(o,{children:Object(c.jsxs)(s.a,{style:{minHeight:"100vh"},children:[Object(c.jsx)(k,{config:n,topContent:a,bottomContent:r,fixHeaderPanel:i}),Object(c.jsxs)(s.a,{className:"site-layout",children:[Object(c.jsx)(f,{}),Object(c.jsx)(S,{className:"site-layout-background",style:{padding:"50px 40px",margin:"50px auto",width:"100%",maxWidth:"1000px"},children:t})]})]})})}var P=n(222);var B=function(e){var t=e.children;return Object(c.jsx)(P.a,{children:t})},L=s.a.Content;function N(e){var t=e.children;e.config;return Object(c.jsx)(B,{children:Object(c.jsxs)(s.a,{className:"site-layout",children:[Object(c.jsx)(f,{}),Object(c.jsx)(L,{className:"site-layout-background",style:{padding:"50px 40px",margin:"50px auto",width:"100%",maxWidth:"1100px"},children:t})]})})}var M=s.a.Content;function A(e){var t=e.children;return Object(c.jsxs)(s.a,{className:"site-layout",children:[Object(c.jsx)(f,{}),Object(c.jsx)(M,{style:{padding:"30px 40px",margin:"20px auto",width:"100%",maxWidth:"1100px"},children:t})]})}},436:function(e,t,n){"use strict";var a=n(0),r=n(545),c=n(546),o=n(200),i=n(565),s=n(121),u=n(201),l=n(438),p=n(553),d=n(556),j=n(563),b=n(542),f=n(567),O=n(568),h=n(540),x=n(116),y=n(230),m=n(231),v=n(220),g=n(232),C=n(6);function w(){var e=Object(v.b)().crudContextAction,t=e.collapsedBox,n=e.panel;return Object(C.jsx)(o.a,{onClick:function(){n.open(),t.close()},type:"primary",children:"Add new Customer"})}function k(e){var t=e.row,n=Object(x.b)(),a=Object(v.b)().crudContextAction,r=a.panel,c=a.collapsedBox,o=a.modal,i=a.readBox,s=Object(x.c)(Object(m.d)(t._id));return Object(C.jsxs)(u.a,{style:{width:130},children:[Object(C.jsx)(u.a.Item,{icon:Object(C.jsx)(b.a,{}),onClick:function(){n(y.a.currentItem(s)),r.open(),c.open(),i.open()},children:"Show"}),Object(C.jsx)(u.a.Item,{icon:Object(C.jsx)(f.a,{}),onClick:function(){n(y.a.currentAction("update",s)),i.close(),r.open(),c.open()},children:"Edit"}),Object(C.jsx)(u.a.Item,{icon:Object(C.jsx)(O.a,{}),onClick:function(){n(y.a.currentAction("delete",s)),o.open()},children:"Delete"})]})}function S(e){var t=e.config,n=t.entity,r=t.dataTableColumns;r=[].concat(Object(s.a)(r),[{title:"",render:function(e){return Object(C.jsx)(l.a,{overlay:k({row:e}),trigger:["click"],children:Object(C.jsx)(h.a,{style:{cursor:"pointer",fontSize:"24px"}})})}}]);var c=Object(x.c)(m.e),i=c.result,u=c.isLoading,b=i.pagination,f=i.items,O=Object(x.b)(),v=Object(a.useCallback)((function(e){O(y.a.list(n,e.current))}),[]);return Object(a.useEffect)((function(){O(y.a.list(n))}),[]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(d.a,{onBack:function(){return window.history.back()},title:"Customer Page",ghost:!1,tags:Object(C.jsx)(j.a,{color:"blue",children:"Running"}),subTitle:"This is customer page",extra:[Object(C.jsx)(o.a,{onClick:v,children:"Refresh"},"".concat(Object(g.a)())),Object(C.jsx)(w,{},"".concat(Object(g.a)()))],style:{padding:"20px 0px"}}),Object(C.jsx)(p.a,{columns:r,rowKey:function(e){return e._id},dataSource:f,pagination:b,loading:u,onChange:v})]})}var E=n(5),P=n(86),B=n(554),L=n(241);function N(e){var t=e.config,n=e.formElements,r=t.entity,c=Object(x.b)(),i=Object(x.c)(m.a),s=i.isLoading,u=i.isSuccess,l=Object(v.b)().crudContextAction,p=l.panel,d=l.collapsedBox,j=l.readBox,b=B.a.useForm(),f=Object(P.a)(b,1)[0];return Object(a.useEffect)((function(){u&&(j.open(),d.open(),p.open(),f.resetFields(),c(y.a.resetAction("create")),c(y.a.list(r)))}),[u]),Object(C.jsx)(L.a,{isLoading:s,children:Object(C.jsxs)(B.a,{form:f,layout:"vertical",onFinish:function(e){e&&(e.birthday&&(e=Object(E.a)(Object(E.a)({},e),{},{birthday:e.birthday.format("DD/MM/YYYY")})),e.date&&(e=Object(E.a)(Object(E.a)({},e),{},{date:e.date.format("DD/MM/YYYY")}))),c(y.a.create(r,e))},children:[n,Object(C.jsx)(B.a.Item,{children:Object(C.jsx)(o.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})}var M=n(296),A=n.n(M);function I(e){var t=e.config,n=e.formElements,r=t.entity,c=Object(x.b)(),i=Object(x.c)(m.g),s=i.current,u=i.isLoading,l=i.isSuccess,p=Object(v.b)(),d=p.state,j=p.crudContextAction,b=j.panel,f=j.collapsedBox,O=j.readBox,h=B.a.useForm(),g=Object(P.a)(h,1)[0];Object(a.useEffect)((function(){s&&(s.birthday&&(s.birthday=A()(s.birthday)),s.date&&(s.date=A()(s.date)),g.setFieldsValue(s))}),[s]),Object(a.useEffect)((function(){l&&(O.open(),f.open(),b.open(),g.resetFields(),c(y.a.resetAction("update")),c(y.a.list(r)))}),[l]);var w=d.isReadBoxOpen?{display:"none",opacity:0}:{display:"block",opacity:1};return Object(C.jsx)("div",{style:w,children:Object(C.jsx)(L.a,{isLoading:u,children:Object(C.jsxs)(B.a,{form:g,layout:"vertical",onFinish:function(e){e&&(e.birthday&&(e=Object(E.a)(Object(E.a)({},e),{},{birthday:e.birthday.format("DD/MM/YYYY")})),e.date&&(e=Object(E.a)(Object(E.a)({},e),{},{birthday:e.date.format("DD/MM/YYYY")})));var t=s._id;console.log(e),c(y.a.update(r,t,e))},children:[n,Object(C.jsx)(B.a.Item,{children:Object(C.jsx)(o.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})}var _=n(558),T=n(242);function D(e){var t=e.config,n=t.entity,r=t.entityDisplayLabels,c=t.deleteMessage,o=void 0===c?"Do you want delete : ":c,i=t.deleteModalDelete,s=void 0===i?"Remove Item":i,u=Object(x.b)(),l=Object(x.c)(m.c),p=l.current,d=l.isLoading,j=l.isSuccess,b=Object(v.b)(),f=b.state,O=b.crudContextAction,h=f.isModalOpen,g=O.modal,w=Object(a.useState)(""),k=Object(P.a)(w,2),S=k[0],E=k[1];Object(a.useEffect)((function(){if(j&&(g.close(),u(y.a.list(n))),p){var e=r.map((function(e){return Object(T.a)(p,e)})).join(" ");E(e)}}),[j,p]);return Object(C.jsx)(_.a,{title:s,visible:h,onOk:function(){var e=p._id;u(y.a.delete(n,e))},onCancel:function(){d||g.close()},confirmLoading:d,children:Object(C.jsxs)("p",{children:[o,S]})})}function R(e){var t=e.config.readColumns,n=Object(x.c)(m.b).result,o=Object(v.b)().state.isReadBoxOpen,i=Object(a.useState)([]),s=Object(P.a)(i,2),u=s[0],l=s[1],p=Object(a.useRef)(!0);Object(a.useEffect)((function(){if(console.log("currentResult :",n),console.log("readColumns :",t),p.current)p.current=!1;else{var e=[];t.map((function(t){var a=t.dataIndex,r=t.title,c=Object(T.a)(n,a);e.push({propsKey:a,label:r,value:c})})),l(e)}}),[n]);var d=o?{display:"block",opacity:1}:{display:"none",opacity:0},j=u.map((function(e){return Object(C.jsxs)(r.a,{gutter:12,children:[Object(C.jsx)(c.a,{className:"gutter-row",span:8,children:Object(C.jsx)("p",{children:e.label})}),Object(C.jsx)(c.a,{className:"gutter-row",span:2,children:Object(C.jsx)("p",{children:" : "})}),Object(C.jsx)(c.a,{className:"gutter-row",span:14,children:Object(C.jsx)("p",{children:e.value})})]},e.propsKey)}));return console.log("itemsList :",j),Object(C.jsx)("div",{style:d,children:j})}var F=n(548),Y=n(557),q=n(458),H=n(228),X=n(73);function z(e){var t=e.config,n=t.entity,r=t.searchConfig,c=r.displayLabels,o=r.searchFields,i=r.outputValue,s=void 0===i?"_id":i,u=Object(x.b)(),l=Object(a.useState)(""),p=Object(P.a)(l,2),d=p[0],j=p[1],b=Object(a.useState)([]),f=Object(P.a)(b,2),O=f[0],h=f[1],g=Object(v.b)().crudContextAction,w=g.panel,k=g.collapsedBox,S=g.readBox,E=H.a.source(),B=Object(x.c)(m.f),L=B.result,N=B.isLoading,M=B.isSuccess,A=Object(a.useRef)(!1),I=null;Object(a.useEffect)((function(){N&&h([{label:"... Searching"}])}),[N]);return Object(a.useEffect)((function(){var e=[];L.map((function(t){var n=c.map((function(e){return t[e]})).join(" ");e.push({label:n,value:t[s]})})),h(e)}),[L]),Object(C.jsx)(F.a,{value:d,options:O,style:{width:"100%"},onSelect:function(e){var t=L.find((function(t){return t[s]===e}));u(y.a.currentItem(t)),w.open(),k.open(),S.open()},onSearch:function(e){A.current=!0,clearTimeout(I),I=setTimeout((function(){A.current&&""!==e&&u(y.a.search(n,E,{question:e,fields:o})),A.current=!1}),500)},onChange:function(e){var t=O.find((function(t){return t.value===e})),n=t?t.label:e;j(n)},notFoundContent:M?"":Object(C.jsx)(X.a,{}),allowClear:!0,placeholder:"Your Search here",children:Object(C.jsx)(Y.a,{suffix:Object(C.jsx)(q.a,{})})})}var W=n(253);function K(e){var t=e.config,n=e.formElements;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(R,{config:t}),Object(C.jsx)(I,{config:t,formElements:n})]})}function U(e){var t=e.config,n=Object(v.b)().crudContextAction.collapsedBox;return Object(C.jsxs)("div",{className:"box",children:[Object(C.jsx)(r.a,{gutter:12,children:Object(C.jsx)(c.a,{className:"gutter-row",span:21,children:Object(C.jsx)("h1",{style:{fontSize:20,marginBottom:20},children:t.panelTitle})})}),Object(C.jsxs)(r.a,{gutter:8,children:[Object(C.jsx)(c.a,{className:"gutter-row",span:21,children:Object(C.jsx)(z,{config:t})}),Object(C.jsx)(c.a,{className:"gutter-row",span:3,children:Object(C.jsx)(o.a,{onClick:function(){n.close()},block:!0,icon:Object(C.jsx)(i.a,{})})})]})]})}t.a=function(e){var t=e.config,n=e.createForm,r=e.updateForm,c=Object(x.b)(),o={};return o=void 0===r?n:r,Object(a.useLayoutEffect)((function(){c(y.a.resetState())}),[]),Object(C.jsxs)(W.a,{config:t,fixHeaderPanel:Object(C.jsx)(U,{config:t}),sidePanelBottomContent:Object(C.jsx)(N,{config:t,formElements:n}),sidePanelTopContent:Object(C.jsx)(K,{config:t,formElements:o}),children:[Object(C.jsx)(S,{config:t}),Object(C.jsx)(D,{config:t})]})}},564:function(e,t,n){"use strict";n.r(t);n(0);var a=n(436),r=n(554),c=n(557),o=n(6);function i(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(r.a.Item,{label:"company Name",name:"company",rules:[{required:!0,message:"Please input your company name!"}],children:Object(o.jsx)(c.a,{})}),Object(o.jsx)(r.a.Item,{label:"Sur Name",name:"managerSurname",rules:[{required:!0,message:"Please input your surname!"}],style:{display:"inline-block",width:"calc(50%)",paddingRight:"5px"},children:Object(o.jsx)(c.a,{})}),Object(o.jsx)(r.a.Item,{label:"Name",name:"managerName",rules:[{required:!0,message:"Please input your manager name!"}],style:{display:"inline-block",width:"calc(50%)",paddingLeft:"5px"},children:Object(o.jsx)(c.a,{})}),Object(o.jsx)(r.a.Item,{name:"phone",label:"Phone",rules:[{required:!0,message:"Please input your phone!"}],children:Object(o.jsx)(c.a,{})}),Object(o.jsx)(r.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(o.jsx)(c.a,{})})]})}t.default=function(){var e="client",t={displayLabels:["company"],searchFields:"company,managerSurname,managerName",outputValue:"_id"},n=[{title:"Company",dataIndex:"company"},{title:"Manager Surname",dataIndex:"managerSurname"},{title:"Manager Name",dataIndex:"managerName"},{title:"Email",dataIndex:"email"},{title:"Phone",dataIndex:"phone"}],r=[{title:"Company",dataIndex:"company"},{title:"Manager Surname",dataIndex:"managerSurname"},{title:"Manager Name",dataIndex:"managerName"},{title:"Email",dataIndex:"email"}],c={entity:e,panelTitle:"Customer Panel",dataTableTitle:"Patients Lists",readColumns:n,dataTableColumns:r,searchConfig:t,entityDisplayLabels:["company"]};return Object(o.jsx)(a.a,{entity:e,dataTableColumns:r,createForm:Object(o.jsx)(i,{}),readColumns:n,searchConfig:t,config:c})}}}]);
//# sourceMappingURL=CustomerPage.19d74b21.chunk.js.map